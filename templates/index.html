<!DOCTYPE html>
<html lang="en">

<style>
    h1 {text-align: center;}
    h2 {text-align: center;}
    h3 {text-align: center;}
    h4 {text-align: center;}
    h5 {text-align: center;}
    h6 {text-align: center;}
</style>

<!-- Header with with a little glossary-->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>Supply Chain: Blockchain</title>
    <br>
    <h3><b>Blockchain Prototype for a Semi-Private Supply Chain</b></h3>
    <h4>Rastreability and Traceability of Medicines</h4>
    <h5><small>Created by Mauro Cardoso using Python and Flask, Â©2022</small></h5>
    <h6><small><br><br>
        Flask application created for a healthcare supply chain, using the concepts of blockchain technology
        <br><br>
        <strong>This chain simulates the transactions between actors (Hard-coded) with their respective amounts.<br> It does not manage them or the interveners' wallets.</strong><br>
        <strong>These transactions create a hash for each of the data involved in the transaction.</strong><br>
        <strong>Each hash generates a JSON file with the details of the transaction for a folder, thus acting as the ledger.</strong><br><br>
        This network is supposed to be semi-private so the spaces below, simulate the spaces reserved for each participant,<br> 
        being this number reduced there is a faster consensus and a higher transaction transfer rate and greater scalability.<br> 
        If there is a change in interactions it can be easy discovered through the chain, or business needs, participant access can be modified with ease.<br>
        There is an obstacle in this implementation as it does not have a logic of permissions applied to the actors in the network.<br><br>
        The management of a B2B or enterprise network like this is managed by a regulator (Admin).
        <br><br>
        <strong>So, Welcome Administrator!</strong>
    </small></h6>

    <div class="container">
        <div class="row">
            <div class="col text-center">
                <div class="col-6 mx-auto mt-5 mb-5"></div>
                <a href="http://127.0.0.1:5000"><button class="btn btn-outline-info">Refresh Page</button></a>
            </div>
        </div>
    </div>
    
</head>

<body>
<!-- Container with the button to hide and show the Raw Material Manufacturer Manufacturer Transaction section-->
    <div class="container">
        <div class="row">
            <div class="col-6 mx-auto mt-5 mb-3"></div>
            <button  onclick="toggleText()" class="btn btn-outline-info">Raw Material Manufacturers Transaction</button>
            <script type="text/javascript">
                function toggleText() {
                    var x = document.getElementById("Manufacturer");
                    if (x.style.display === "none") {
                      x.style.display = "block";
                    } else {
                      x.style.display = "none";
                    }
                }
            </script>
        </div>
    </div>

<!-- Container with the forms to register the data from Raw Material Manufacturer transactions-->
    <div id="Manufacturer" class="container" style="display:none">
        <div class="row">
            <div class="col-6 mx-auto mt-5"></div>
            <h3 class="mb-5">Manufacturing Raw Material</h3>
            <form action="{{url_for('raw_manufacturer')}}" method = POST>
                <label for="raw_Contracted" class="form-label">Contracted</label>
                <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon3">Name</span>
                    <input type="text" class="form-control" id="raw_Contracted" aria-describedby="basic-addon3" name="raw_Contracted">
                </div>

                <label for="raw_Contractor" class="form-label">Contractor</label>
                <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon3">Name</span>
                    <input type="text" class="form-control" id="raw_Contractor" aria-describedby="basic-addon3" name="raw_Contractor">
                </div>

                <label for="raw_Amount" class="form-label">Amount</label>
                <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon3">$</span>
                    <input type="text" class="form-control" id="raw_Amount" aria-describedby="basic-addon3" name="raw_Amount">
                </div>

                <button class="btn btn-primary">Submit</button>
            </form>
        </div>
    </div>

<!-- Container with the button to hide and show the Pharma Manufacturer Transaction section-->
    <div class="container">
        <div class="row">
            <div class="col-6 mx-auto mt-2 mb-2"></div>
            <button  onclick="toggleText2()" class="btn btn-outline-info"> Pharmaceutical Manufacturers Transaction</button>
            <script type="text/javascript">
                function toggleText2() {
                    var x = document.getElementById("Pharma Manufacturer");
                    if (x.style.display === "none") {
                    x.style.display = "block";
                    } else {
                    x.style.display = "none";
                    }
                }
            </script>
        </div>
    </div>

<!-- Container with the forms to register the data from Pharma Manufacturer transactions-->
    <div id="Pharma Manufacturer" class="container" style="display:none">
        <div class="row">
            <div class="col-6 mx-auto mt-5"></div>
            <h3 class="mb-5">Manufacturing Pharmaceuticals </h3>
            <form action="{{url_for('pharma_manufacturer')}}" method = POST>

                <label for="ph_Quantity" class="form-label">Quantity</label>
                <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon3">#</span>
                    <input type="text" class="form-control" id="ph_Quantity" aria-describedby="basic-addon3" name="ph_Quantity">
                </div>

                <label for="raw_Amount" class="form-label">Drug</label>
                <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon3">Description</span>
                    <input type="text" class="form-control" id="ph_Drug" aria-describedby="basic-addon3" name="ph_Drug">
                </div>

                <button class="btn btn-primary">Submit</button>
            </form>
        </div>
    </div>

<!-- Container with the button to hide and show the Regulator Transaction section-->
    <div class="container">
        <div class="row">
            <div class="col-6 mx-auto mt-2 mb-2"></div>
            <button  onclick="toggleText3()" class="btn btn-outline-info"> Regulators Transaction</button>
            <script type="text/javascript">
                function toggleText3() {
                    var x = document.getElementById("Regulator");
                    if (x.style.display === "none") {
                    x.style.display = "block";
                    } else {
                    x.style.display = "none";
                    }
                }
            </script>
        </div>
    </div>

<!-- Container with the forms to register the data from Regulator transactions-->
    <div id="Regulator" class="container" style="display:none">
        <div class="row">
            <div class="col-6 mx-auto mt-5"></div>
            <h3 class="mb-5">Pharma Regulation</h3>
            <form action="{{url_for('regulator')}}" method = POST>

                <label for="r_Requester" class="form-label">Requester</label>
                <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon3">Name</span>
                    <input type="text" class="form-control" id="r_Requester" aria-describedby="basic-addon3" name="r_Requester">
                </div>

                <label for="r_Regulator" class="form-label">Regulator</label>
                <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon3">Name</span>
                    <input type="text" class="form-control" id="r_Regulator" aria-describedby="basic-addon3" name="r_Regulator">
                </div>

                <label for="r_Validation" class="form-label">0(Declined) or 1(Accepted</label>
                <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon3">#</span>
                    <input type="text" class="form-control" id="r_Validation" aria-describedby="basic-addon3" name="r_Validation">
                </div>

                <button class="btn btn-primary">Submit</button>
            </form>
        </div>
    </div>

<!-- Container with the button to hide and show the Warehouse Transaction section-->
    <div class="container">
        <div class="row">
            <div class="col-6 mx-auto mt-2 mb-2"></div>
            <button  onclick="toggleText4()" class="btn btn-outline-info"> Warehouse Transaction</button>
            <script type="text/javascript">
                function toggleText4() {
                    var x = document.getElementById("Warehouse");
                    if (x.style.display === "none") {
                    x.style.display = "block";
                    } else {
                    x.style.display = "none";
                    }
                }
            </script>
        </div>
    </div>

<!-- Container with the forms to register the data from Warehouse transactions-->
    <div id="Warehouse" class="container" style="display:none">
        <div class="row">
            <div class="col-6 mx-auto mt-5"></div>
            <h3 class="mb-5">Warehouse to Client (Hospital) </h3>
            <form action="{{url_for('warehouse')}}" method = POST>

                <label for="wr_Contracted" class="form-label">Contracted</label>
                <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon3">Name</span>
                    <input type="text" class="form-control" id="wr_Contracted" aria-describedby="basic-addon3" name="wr_Contracted">
                </div>

                <label for="wr_Contractor" class="form-label">Contractor</label>
                <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon3">Name</span>
                    <input type="text" class="form-control" id="wr_Contractor" aria-describedby="basic-addon3" name="wr_Contractor">
                </div>

                <label for="wr_Amount" class="form-label">Amount</label>
                <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon3">#</span>
                    <input type="text" class="form-control" id="wr_Amount" aria-describedby="basic-addon3" name="wr_Amount">
                </div>
                <label for="wr_Drug" class="form-label">Drug</label>
                <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon3">Description</span>
                    <input type="text" class="form-control" id="wr_Drug" aria-describedby="basic-addon3" name="wr_Drug">
                </div>

                <button class="btn btn-primary">Submit</button>
            </form>
        </div>
    </div>

<!-- Container with the button to hide and show the Distribuitor Transaction section-->
    <div class="container">
        <div class="row">
            <div class="col-6 mx-auto mt-2 mb-2"></div>
            <button  onclick="toggleText5()" class="btn btn-outline-info"> Distribuitor Transaction</button>
            <script type="text/javascript">
                function toggleText5() {
                    var x = document.getElementById("distribuitor");
                    if (x.style.display === "none") {
                    x.style.display = "block";
                    } else {
                    x.style.display = "none";
                    }
                }
            </script>
        </div>
    </div>

<!-- Container with the forms to register the data from Distribuitor transactions-->
    <div id="distribuitor" class="container" style="display:none">
        <div class="row">
            <div class="col-6 mx-auto mt-5"></div>
            <h3 class="mb-5">Distribuitions</h3>
            <form action="{{url_for('distribuitor')}}" method = POST>

                <label for="dr_Sender" class="form-label">Sender</label>
                <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon3">Name</span>
                    <input type="text" class="form-control" id="dr_Sender" aria-describedby="basic-addon3" name="dr_Sender">
                </div>

                <label for="dr_Receiver" class="form-label">Receiver</label>
                <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon3">Name</span>
                    <input type="text" class="form-control" id="dr_Receiver" aria-describedby="basic-addon3" name="dr_Receiver">
                </div>

                <label for="dr_Amount" class="form-label">Amount</label>
                <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon3">#</span>
                    <input type="text" class="form-control" id="dr_Amount" aria-describedby="basic-addon3" name="dr_Amount">
                </div>
                <label for="dr_Address" class="form-label">Address</label>
                <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon3">Detail</span>
                    <input type="text" class="form-control" id="dr_Address" aria-describedby="basic-addon3" name="dr_Address">
                </div>

                <button class="btn btn-primary">Submit</button>
            </form>
        </div>
    </div>

<!--Container with the integrity button-->
<div id="Integrity" class="container">
    <div class="row">
        <div class="col-6 mx-auto mt-5 mb-1"></div>
            <form action="{{url_for('check')}}" class="mb-5">
                <button class="btn btn-outline-info">Check integrity and transaction details</button>
                <a href="http://127.0.0.1:5000" button class="btn btn-outline-info">Hide list</a>
            </form>
            {% for res in checking_results %}
            <div>
                Block {{ res['block'] }} : {{ res['result'] }}
            </div>
            {% endfor %}

            </script>
        </div>
    </div>    
</div>
</body>
    <h6><small>
        Future implementation:
        <br><br>
        <strong>This code fails to implement the registration of actors and the respective management of their portfolio,<br>
            being points for improvement proposal.</strong><br>
        <strong>Thank you.</strong>
    </small></h6>
</html>

